concurrency: 6
base: "http://localhost:3000"
iterations: 10000

plan:
  - name: Health
    request:
      url: /health-check

  - name: User
    request:
      url: /graphql
      method: POST
      headers:
        Content-Type: "application/json"
      # prettier-ignore
      body: 
        '{
          "query": "{
            user(id: $id) {
              userId
              firstName
              lastName
            }
          }",
          "variables": {
            "id": {{ item }}
          }
        }'
    with_items_range:
      start: 1
      stop: 10000
    pick: 1
